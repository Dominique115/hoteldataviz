<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Oliver Huang – View 2: Payment Commitments & Cancellation Risk</title>

  <style>
    :root {
      --accent: #E57373;
      --accent-light: #FFF0F0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      background-color: var(--accent-light);
    }

    .page {
      max-width: 1300px;
      margin: 40px auto;
      padding: 32px 36px 40px;
      background: #ffffff;
      border-radius: 14px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.06);
    }

    a {
      color: var(--accent);
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }

    h1, h2, h3 {
      line-height: 1.3;
    }

    h1 {
      color: var(--accent);
      margin-top: 0;
      margin-bottom: 8px;
      font-size: 1.8rem;
    }

    .subtitle-bar {
      width: 70px;
      height: 4px;
      border-radius: 999px;
      background: var(--accent);
      margin-bottom: 16px;
    }

    /* 顶部跳转按钮 UI */
    .nav {
      margin-bottom: 22px;
    }
    .nav-links {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 0.9rem;
    }
    .nav-link {
      padding: 5px 14px;
      border-radius: 999px;
      border: 1px solid var(--accent);
      background: #fff5f5;
      color: var(--accent);
      font-weight: 500;
    }
    .nav-link:hover {
      background: var(--accent);
      color: #ffffff;
      text-decoration: none;
    }

    .note {
      font-size: 0.9rem;
      color: #555;
      background: var(--accent-light);
      border-left: 4px solid var(--accent);
      padding: 8px 12px;
      border-radius: 6px;
      margin-bottom: 14px;
    }

    .at-a-glance {
      background: #fff7f7;
      border-radius: 10px;
      padding: 10px 14px;
      border: 1px solid #f2b4b4;
      font-size: 0.92rem;
      margin-bottom: 18px;
    }

    .at-a-glance ul {
      margin-top: 4px;
      padding-left: 18px;
    }

    .chart-container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto 24px;
      text-align: center;
    }

    .sections {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 16px;
    }

    .section-card {
      background: #fffafa;
      border-radius: 12px;
      border: 1px solid #f3b7b7;
      padding: 14px 18px 16px;
    }

    .section-card h2,
    .section-card h3 {
      margin-top: 0;
      margin-bottom: 6px;
      font-family: "Georgia", "Times New Roman", serif;
      font-size: 1.1rem;
      color: #c55454;
    }

    .section-card p,
    .section-card ul {
      font-family: "Trebuchet MS", system-ui, sans-serif;
      font-size: 0.95rem;
      margin-top: 4px;
      margin-bottom: 6px;
      color: #333;
    }

    .section-card ul {
      padding-left: 18px;
    }

    @media (max-width: 800px) {
      .page {
        margin: 20px auto;
        padding: 20px;
      }
      .chart-container iframe {
        height: 900px;
      }
    }
  </style>
</head>

<body>

  <div class="page">

    <div class="nav">
      <div class="nav-links">
        <a class="nav-link" href="oliver.html">← Back to Oliver overview</a>
        <a class="nav-link" href="oliver_view1_page.html">Go to View 1 →</a>
        <a class="nav-link" href="index.html">Back to main page</a>
      </div>
    </div>

    <h1>View 2 – Payment Commitments & Cancellation Risk</h1>
    <div class="subtitle-bar"></div>

    <p class="note">
      This view examines how <strong>pricing</strong>, <strong>payment commitments</strong>
      (deposit types), and <strong>customer segments</strong> jointly shape
      <strong>cancellation risk</strong>, with ADR acting as a filter that controls the
      price range under consideration.
    </p>

    <div class="at-a-glance">
      <strong>Analytic question.</strong>
      How do payment commitments and customer characteristics interact to influence
      cancellation likelihood?<br><br>
      <strong>Key tasks:</strong>
      <ul>
        <li>Compare cancellation rates across deposit and customer types.</li>
        <li>See how risk changes across ADR ranges.</li>
        <li>Contrast City and Resort hotels using interactive selection.</li>
      </ul>
    </div>

    <!-- 图表放上面 -->
    <div class="chart-container">
      <iframe src="oliver_view2.html"
              style="width: 100%; height: 1000px; border: none; background: #ffffff;"
              scrolling="no">
      </iframe>
    </div>

    <!-- 简化后说明卡片 -->
    <div class="sections">

      <div class="section-card">
        <h2>Design overview</h2>
        <p>This view contains two linked visualizations:</p>
        <ul>
          <li>
            <strong>Histogram + cancellation-rate line chart (Vizz1):</strong>
            ADR is binned on the x-axis. Bars show booking counts, and lines show
            cancellation rate per bin for each hotel type. ADR sliders and hotel selection
            control which bookings are included.
          </li>
          <li>
            <strong>Deposit-type × customer-type heatmap (Vizz2):</strong>
            Each cell shows the mean cancellation rate for a deposit–customer combination,
            updating to match the current ADR range and hotel selection.
          </li>
        </ul>
      </div>

      <div class="section-card">
        <h2>Encodings</h2>
        <p>
          In Vizz1, horizontal position encodes ADR bins and vertical position encodes either
          booking count (bars) or cancellation rate (lines). Color represents hotel type,
          and opacity highlights the selected hotel while keeping the other faint.
        </p>
        <p>
          The heatmap relies on color intensity to represent cancellation rate, with position
          determined by deposit type (x) and customer type (y). A single blue gradient makes
          low, medium, and high risk easy to compare across cells.
        </p>
      </div>

      <div class="section-card">
        <h2>Interactions</h2>
        <ul>
          <li><strong>ADR sliders:</strong> restrict the analysis to bookings within a chosen ADR range; both Vizz1 and Vizz2 recompute based on this subset.</li>
          <li><strong>Hotel selection:</strong> clicking a bar selects City or Resort hotels; both views filter to that hotel type, and double-click clears the selection.</li>
          <li><strong>Separate / Combined toggle:</strong> switches between overlaid and stacked bars, supporting comparison of relative vs. absolute frequencies.</li>
        </ul>
        <p>These interactions support multidimensional filtering across price, hotel type, and guest segment.</p>
      </div>

      <div class="section-card">
        <h2>Critique</h2>
        <p>
          The combination of histogram, line, and heatmap makes cancellation patterns across
          price levels and guest segments easy to see. Global filtering through ADR sliders
          and hotel selection is flexible but still understandable.
        </p>
        <p>
          However, the view can become dense when many bins or categories are active, and the
          meaning of “Separate vs. Combined” bars may need a short verbal explanation for
          first-time users.
        </p>
      </div>

    </div>

  </div>

</body>
</html>
