<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Oliver Huang – View 2: Payment Commitments & Cancellation Risk</title>

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 40px;
      line-height: 1.6;
      max-width: 1100px;
    }
    a {
      color: #1476d1;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    h1, h2, h3 {
      line-height: 1.3;
    }
    .nav {
      font-size: 0.95rem;
      margin-bottom: 20px;
    }
    .nav a {
      margin-right: 18px;
    }
    .chart-container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      margin-top: 20px;
    }
    .note {
      font-size: 0.9rem;
      color: #555;
    }
    ul {
      margin-top: 0.2rem;
    }
  </style>
</head>

<body>

  <div class="nav">
    <a href="oliver.html">← Back to Oliver overview</a>
    <a href="oliver_view1_page.html">← Go to View 1</a>
    <a href="index.html">Back to main page</a>
  </div>

  <h1>View 2 – Interactions Between Payment Commitments, Customer Segments, and Cancellation Risk</h1>

  <p class="note">
    This view examines how <strong>pricing</strong>, <strong>payment commitments</strong>
    (deposit types), and <strong>customer segments</strong> jointly shape
    <strong>cancellation risk</strong>, with ADR acting as a filter that controls the
    price range under consideration.
  </p>

  <p><strong>Analytic question.</strong><br>
    How do payment commitments and customer characteristics interact to influence
    cancellation likelihood?
  </p>

  <p><strong>Low-level tasks.</strong></p>
  <ul>
    <li>Compare cancellation rates across different deposit types.</li>
    <li>Compare cancellation rates across different customer types.</li>
    <li>Examine how specific combinations (e.g., “Non-Refund – Transient”) differ from others.</li>
    <li>Explore how cancellation risk varies after filtering bookings by ADR range.</li>
    <li>Investigate differences between hotel types using a selectable interaction.</li>
  </ul>

  <h2>View Design</h2>
  <p>
    The view contains two linked visualizations:
  </p>
  <ul>
    <li>
      <strong>Histogram + cancellation-rate line chart (Vizz1):</strong><br>
      ADR is binned on the x-axis. Bars show booking counts, with a toggle to switch
      between Separate and Combined bar modes. Lines show cancellation rate per ADR bin,
      one for each hotel type. ADR sliders filter the entire view, and clicking a hotel
      type filters both Vizz1 and Vizz2.
    </li>
    <li>
      <strong>Deposit-type × customer-type heatmap (Vizz2):</strong><br>
      Cells show mean cancellation rate for each combination. Color encodes cancellation
      likelihood, and the view updates based on the selected hotel type and ADR slider range.
    </li>
  </ul>
  <p>
    Together, these two components support a multilevel examination of how pricing,
    payment commitment, and guest segmentation relate to cancellation risk.
  </p>

  <h2>Channels and Encodings</h2>
  <p>
    In Vizz1, horizontal position encodes binned ADR, and vertical position encodes either
    booking count (bars) or cancellation rate (lines). Color encodes hotel type consistently
    across bars and lines, while opacity distinguishes the selected hotel type from the
    non-selected one.
  </p>
  <p>
    The Separate/Combined toggle controls bar stacking behavior, switching between overlaid
    and stacked views. The line chart adds point marks at each bin to emphasize cancellation
    values. In Vizz2, the heatmap relies on color intensity to represent cancellation rate,
    with position determined by deposit type × customer type. A unified blue gradient scale
    supports consistent interpretation of low, medium, and high risk.
    ADR sliders act as external filters that constrain the visible ADR domain in both subviews.
  </p>

  <h2>Interaction</h2>
  <p>
    Three main interactions are implemented:
  </p>
  <ul>
    <li><strong>ADR sliders (global filtering):</strong> adjusting the minimum and maximum ADR thresholds recomputes both the histogram + line view and the heatmap using only bookings within the selected ADR range.</li>
    <li><strong>Hotel selection (hotel_sel):</strong> clicking a hotel bar selects that hotel type; both Vizz1 and Vizz2 update to reflect only the selected hotel, and a double-click clears the selection.</li>
    <li><strong>View mode toggle (Separate / Combined):</strong> switches between overlaid and stacked bars, allowing comparison of relative versus absolute frequencies.</li>
  </ul>
  <p>
    This combination of global filters, hotel selection, and view mode toggle enables flexible,
    multidimensional exploration of cancellation risk across price levels, deposit types,
    and customer segments while keeping the interface interpretable.
  </p>

  <div class="chart-container">
    <iframe src="oliver_view2.html"
            style="width: 95%; height: 1000px; border: none;"
            scrolling="no">
    </iframe>
  </div>

</body>
</html>
